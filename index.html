<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
</head>
<body>
  <div class="row">
    <div class="col-md-9">
      <select class="form-control" id="ddlTurno">
        <option value="132">07:00 - 17:20</option>
        <option value="131">07:00 - 20:20</option>
        <option value="310">07:30 - 11:00</option>
        <option value="72">07:30 - 11:30</option>
        <option value="71">07:30 - 13:30</option>
        <option value="304">07:40 - 12:20</option>
        <option value="292">08:00 - 09:00</option>
        <option value="144">08:00 - 10:30</option>
        <option value="148">08:00 - 10:45</option>
        <option value="134">08:00 - 11:00</option>
        <option value="233">08:00 - 11:30</option><option value="213">08:00 - 11:40</option><option value="210">08:00 - 11:45</option><option value="203">08:00 - 12:00</option><option value="14">08:00 - 12:10</option><option value="18">08:00 - 12:20</option><option value="188">08:00 - 12:30</option><option value="239">08:00 - 12:40</option><option value="5">08:00 - 12:45</option><option value="257">08:00 - 13:00</option><option value="313">08:00 - 13:30</option><option value="241">08:00 - 13:40</option><option value="6">08:00 - 13:45</option><option value="186">08:00 - 14:00</option><option value="286">08:00 - 17:00</option><option value="316">08:00 - 17:30</option><option value="300">08:00 - 20:00</option><option value="309">08:10 - 12:30</option><option value="46">08:30 - 10:00</option><option value="231">08:30 - 11:00</option><option value="215">08:30 - 11:30</option><option value="96">08:30 - 11:40</option><option value="183">08:30 - 12:00</option><option value="178">08:30 - 12:15</option><option value="226">08:30 - 12:30</option><option value="137">08:30 - 12:45</option><option value="138">08:30 - 13:00</option><option value="281">08:45 - 10:15</option><option value="64">08:45 - 11:40</option><option value="58">08:45 - 11:45</option><option value="118">09:00 - 11:00</option><option value="122">09:00 - 11:20</option><option value="262">09:00 - 11:30</option><option value="4">09:00 - 11:40</option><option value="36">09:00 - 11:45</option><option value="282">09:00 - 12:00</option><option value="111">09:00 - 12:30</option><option value="238">09:00 - 12:40</option><option value="250">09:00 - 12:45</option><option value="253">09:00 - 12:50</option><option value="289">09:00 - 13:00</option><option value="298">09:00 - 14:00</option><option value="60">09:30 - 11:45</option><option value="120">09:30 - 11:50</option><option value="110">09:30 - 12:30</option><option value="145">09:30 - 12:45</option><option value="274">09:30 - 14:00</option><option value="297">09:30 - 18:00</option><option value="193">09:50 - 12:00</option><option value="192">09:50 - 13:00</option><option value="29">10:00 - 12:00</option><option value="88">10:00 - 12:30</option><option value="251">10:00 - 12:45</option><option value="237">10:00 - 17:00</option><option value="258">10:30 - 12:30</option><option value="158">10:30 - 12:45</option><option value="159">10:30 - 13:00</option><option value="53">10:40 - 13:00</option><option value="308">11:00 - 13:00</option><option value="311">11:00 - 13:30</option><option value="195">11:00 - 14:00</option><option value="323">11:30 - 13:00</option><option value="276">11:30 - 13:30</option><option value="320">11:30 - 15:00</option><option value="242">11:45 - 12:30</option><option value="21">12:00 - 13:00</option><option value="40">12:00 - 13:30</option><option value="44">12:00 - 14:00</option><option value="214">12:00 - 15:00</option><option value="199">12:00 - 15:30</option><option value="190">12:00 - 16:00</option><option value="317">12:00 - 17:00</option><option value="315">12:00 - 17:30</option><option value="219">12:30 - 14:30</option><option value="211">12:30 - 15:00</option><option value="227">12:30 - 16:00</option><option value="293">13:00 - 14:00</option><option value="49">13:00 - 14:30</option><option value="307">13:00 - 14:55</option><option value="295">13:00 - 15:00</option><option value="205">13:00 - 15:30</option><option value="181">13:00 - 16:00</option><option value="212">13:00 - 16:40</option><option value="318">13:00 - 18:00</option><option value="218">13:30 - 15:00</option><option value="220">13:30 - 15:30</option><option value="179">13:30 - 16:00</option><option value="206">13:30 - 16:15</option><option value="302">13:30 - 19:30</option><option value="294">14:00 - 15:00</option><option value="255">14:00 - 15:30</option><option value="50">14:00 - 15:45</option><option value="115">14:00 - 16:00</option><option value="312">14:00 - 16:30</option><option value="80">14:00 - 16:40</option><option value="272">14:00 - 17:00</option><option value="73">14:00 - 17:20</option><option value="319">14:00 - 17:30</option><option value="240">14:00 - 17:40</option><option value="280">14:00 - 17:45</option><option value="290">14:00 - 18:00</option><option value="285">14:00 - 19:30</option><option value="126">14:00 - 20:00</option><option value="322">14:20 - 17:30</option><option value="321">14:20 - 18:00</option><option value="235">14:20 - 19:45</option><option value="155">14:30 - 15:45</option><option value="154">14:30 - 16:15</option><option value="34">14:30 - 16:40</option><option value="156">14:30 - 16:45</option><option value="216">14:30 - 17:00</option><option value="279">14:30 - 17:30</option><option value="164">14:30 - 19:30</option><option value="236">14:45 - 19:45</option><option value="47">15:00 - 16:30</option><option value="267">15:00 - 17:00</option><option value="139">15:00 - 17:20</option><option value="152">15:00 - 17:30</option><option value="106">15:00 - 17:45</option><option value="271">15:00 - 18:00</option><option value="246">15:00 - 18:20</option><option value="221">15:00 - 18:30</option><option value="230">15:00 - 18:40</option><option value="249">15:00 - 18:45</option><option value="252">15:00 - 19:00</option><option value="99">15:00 - 19:30</option><option value="260">15:00 - 19:40</option><option value="225">15:00 - 19:45</option><option value="275">15:00 - 20:00</option><option value="68">15:10 - 18:30</option><option value="7">15:15 - 16:45</option><option value="54">15:20 - 17:00</option><option value="22">15:30 - 17:00</option><option value="314">15:30 - 17:30</option><option value="277">15:30 - 18:00</option><option value="102">15:30 - 18:15</option><option value="94">15:30 - 18:30</option><option value="69">15:30 - 18:40</option><option value="278">15:30 - 19:00</option><option value="247">15:30 - 19:45</option><option value="299">15:30 - 20:00</option><option value="119">16:00 - 17:30</option><option value="209">16:00 - 17:50</option><option value="87">16:00 - 18:30</option><option value="116">16:00 - 18:40</option><option value="93">16:00 - 18:45</option><option value="208">16:00 - 18:50</option><option value="270">16:00 - 19:00</option><option value="103">16:00 - 19:15</option><option value="287">16:00 - 19:30</option><option value="245">16:00 - 19:40</option><option value="234">16:00 - 19:45</option><option value="189">16:00 - 20:00</option><option value="136">16:15 - 19:45</option><option value="11">16:20 - 19:40</option><option value="55">16:20 - 19:50</option><option value="23">16:30 - 17:45</option><option value="142">16:30 - 18:00</option><option value="85">16:30 - 18:30</option><option value="123">16:30 - 18:50</option><option value="256">16:30 - 19:00</option><option value="26">16:30 - 19:30</option><option value="59">16:45 - 19:45</option><option value="191">16:50 - 19:45</option><option value="3">17:00 - 18:40</option><option value="201">17:00 - 18:45</option><option value="196">17:00 - 19:00</option><option value="202">17:00 - 19:30</option><option value="12">17:00 - 19:40</option><option value="35">17:00 - 19:45</option><option value="296">17:00 - 20:00</option><option value="306">17:30 - 19:30</option><option value="266">17:30 - 19:45</option><option value="243">18:00 - 19:00</option><option value="261">18:00 - 19:30</option><option value="75">18:00 - 19:40</option><option value="140">18:00 - 19:45</option><option value="114">18:00 - 20:00</option><option value="291">19:00 - 20:00</option><option value="303">19:30 - 07:30</option><option value="305">20:00 - 08:00</option>
      </select>
    </div>
    <div class="col-md-3">
      <select class="form-control" id="ddlTurno2">
        <option value="132">Josep</option>
        
      </select>
    </div>
  </div>
  
  <script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>
  <script>
    HTMLSelectElement.prototype.autocompletejf = function() {
      const element = this;
      let newElement = null;
      let divULID = "";
      let mouseInParent = false;
      const elementParent = $(element).parent();
      element.listOptions = [];
      element.newGuid = function(){
        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'
        .replace(/[xy]/g, function(c) {
                var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
        });
      }
      element.hideSelect = function(){
        $(element).hide();
      };
      element.getOptionsInObject = function(){
        var listOptions = this.listOptions;
        let options = $(this).find("option")||[];
        if(options.length <= 0) console.error("No hay opciones");
        $.each(options, function(index, option){
          let value = option.value;
          let text = option.innerHTML;
          listOptions.push({value: value, text:text});
        });
        return options;
      };
      element.mouseDownDiv = function(){
        mouseInParent = true;
      }
      element.mouseOutDiv = function(){
        mouseInParent = false;
      }
      element.generateDiv = function(){
        var div = document.getElementById(divULID);
        if(div === null){
          div = document.createElement("DIV");
          div.id = divULID;
          div.offsetWidth = newElement.offsetWidth;
          div.style.maxHeight = "300px";
          div.style.overflow = "auto";
          elementParent.append(div);
        }
        return div;
      }
      element.destroy = function(){
        $(`#${divULID}`).remove();
      };
      element.mouseOverAndOut = function(){
        $(event.target).toggleClass("active");
      }
      
      element.click = function(){
        newElement.value = $(event.target).html();
        element.value = $(event.target).attr("data-value");
        element.destroy();
      }
     
      element.generateULWithOptions = function(div, list){
        $(div).empty();
        var ul = document.createElement("UL");
        ul.className = "list-group";
        $.each(list, function(index, option){
          $("<li/>",{
            class:"list-group-item p-1",
            ["data-value"]:option.value
          })
          .css("cursor","pointer")
          .on("mouseover mouseout", element.mouseOverAndOut)
          .on("mouseover", element.mouseDownDiv)
          .on("mouseout", element.mouseOutDiv)
          .on("click", element.click)
          .append(option.text)
          .appendTo(ul);
        });
        div.append(ul);
      }
      element.filter = function(){
        var optionFilter = [];
        $.each(this.listOptions, function(index, option){
          if(option.text.toLowerCase().indexOf(newElement.value.toLowerCase().trim())>-1)
            optionFilter.push(option);
        });
        return optionFilter;
      }
      element.keyUp = function(){
        var object = element.filter();
        var divUL = element.generateDiv();
        element.generateULWithOptions(divUL, object);
      };
      element.generateInput = function(){
        var input = $("<input/>",{
          id:`${($(this).id || "id")}_autocompletejf`,
          class: 'form-control'
        })
        .on("focus",element.keyUp)
        .on("blur", function(){ 
          if(!mouseInParent)
            element.destroy();
        })
        .appendTo(elementParent);
        newElement = input.get(0);
        $(newElement).on("keyup", element.keyUp);
      };
      element.start = function(){
        divULID = element.newGuid();
        element.hideSelect();
        element.getOptionsInObject();
        element.generateInput();
        elementParent.on("blur", element.destroy);
      };
      element.start();
    };
    function init(){
      $("#ddlTurno").get(0).autocompletejf();
      $("#ddlTurno2").get(0).autocompletejf();
      // console.log($("#ddlTurno").get(0).__proto__);
    };
    init();
  </script>
</body>
</html>