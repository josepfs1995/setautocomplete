HTMLSelectElement.prototype.autocompletejf=function(t){t=t||{};const e=this;let o,n=null,i="",a=!1;const u=$(e).parent();e.listOptions=[],e.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,o="x"==t?e:3&e|8;return o.toString(16)})},e.hideSelect=function(){$(e).hide()},e.getOptionsInObject=function(){var t=this.listOptions;let e=$(this).find("option")||[];return e.length<=0&&console.error("No hay opciones"),$.each(e,function(e,o){let n=o.value,i=o.innerHTML;t.push({value:n,text:i})}),e},e.mouseDownDiv=function(){a=!0},e.mouseOutDiv=function(){a=!1},e.generateDiv=function(){var t=$(`#${i}`).get(0)||null;null===t&&(t=document.createElement("DIV"),t.id=i,t.style.maxHeight="300px",t.style.overflow="auto",t.style.position="relative",t.style.width=`${n.clientWidth}px`,$("body").append(t),t.style.top=`${$(n).offset().top-$(t).offset().top+n.offsetHeight}px`,t.style.left=`${$(n).offset().left}px`)},e.destroy=function(){$(`#${i}`).remove()},e.mouseOverAndOut=function(){$(event.target).toggleClass("active")},e.click=function(){n.value=$(event.target).html(),e.value=$(event.target).attr("data-value"),"function"==typeof t.onchange&&o!==e.value&&t.onchange(),o=$(e).find("option:selected").val(),e.destroy()},e.generateULWithOptions=function(t){var o=$(`#${i}`);$(o).empty();var n=document.createElement("UL");n.className="list-group",$.each(t,function(t,o){$("<li/>",{class:"list-group-item p-1","data-value":o.value}).css("cursor","pointer").on("mouseover mouseout",e.mouseOverAndOut).on("mouseover",e.mouseDownDiv).on("mouseout",e.mouseOutDiv).on("click",e.click).append(o.text).appendTo(n)}),o.append(n)},e.filter=function(){var t=[];return $.each(this.listOptions,function(e,o){o.text.toLowerCase().indexOf(n.value.toLowerCase().trim())>-1&&t.push(o)}),t},e.keyUp=function(){var t=e.filter();e.generateDiv(),e.generateULWithOptions(t)},e.generateInput=function(){$(`#${$(this).attr("id")||"id"}_autocompletejf`).remove();var o=$("<input/>",{id:`${$(this).attr("id")||"id"}_autocompletejf`,class:"form-control","data-autocompletejf":!0,placeholder:t.placeholder?$(e).find("option:selected").html():""}).attr("autocomplete","off").on("focus",e.keyUp).on("blur",function(){a||e.destroy()}).appendTo(u);n=o.get(0),$(n).on("keyup",e.keyUp)},e.start=function(){i=e.newGuid(),e.hideSelect(),e.getOptionsInObject(),e.generateInput()},e.start()};